# COLOCON 2018 過去問感想

- C問題は見事に引っかかって解けずに解答PDFに頼った。
  - 何も考えないと36個の数を選ぶか選ばないかのbit全探索をする必要があり、とても間に合わない。
  - しかし、2の倍数は最大1つしか選べないこと、3の倍数は最大1つしか選べないことを考えると、それらを間引いた数は10個よりちょい多いぐらいにしかならない。
    - 本番でも、このことは十分考察可能だと思われる。
    - こうすると、調べるパターンの数は大体 `x*y*powint(2, z)` （`x,y,z` はいずれも10程度）ぐらいとわかり、十分全探索が間に合うことが分る。
  - **典型: `2^20` ぐらいまで落とせたら（bit）全探索を考える。**
  - 実装はそれなりに工夫がいるが、2・3の倍数部分は素直に配列から最大1つ選ぶ、それ以外はbit全探索をする、という感じの3重ループを想起する。
    - 自分なりに工夫した点としては、2・3の倍数については `idx` をそれぞれ `-1` からスタートさせ、`-1` のときは何も選ばない、というふうな解釈をするようにした。
    - 選んだ数値を別の配列に寄せておき、それに着目して「今考えているパターンは条件を満たすか？」に注力する。
      - これは別の関数に切り出した。
      - 内容としては `nC2` のパターンについて、すべてが互いに素となっているかを愚直にチェックするだけ。
    - 例外として、選ばれた数が1つ以下の場合は無条件に条件を満たすことに注意。
  - 計算時間は大体650msecぐらいだった。

