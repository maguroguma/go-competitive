# 天下一プログラマーコンテスト 2016 予選 過去問感想

- B問題は色々考察したがわからず。
  - 自分で考えて整理できたのは以下のあたりまで。
    - 「右へ行ってから左へ戻るのは明らかに無駄なので、移動は右方向のみ」
    - 「くり返し同じものを反転するのも無駄」
    - 「各文字について変えるか・変えないかの2パターンから選ぶとすると、全パターン数は `2^100` 通り、しかもこれらについて正しさの判定をする必要があり、愚直なスタックを使う方法だと `O(len(S))` かかる（`len(S) <= 100` なので、よく考えるとこれはそこまで深刻ではない場合もあるかも）」
  - 最初は2次元のDPで考えていたが、変化回数だけを記憶したものだと、後半だけをちょこっと変えたものを最適と判断してしまうケースがあり得る。
    - 実際には、変化回数は多いけど移動が少ないパターン、というのが存在する。
  - 最終的に、 `dp[i][j][k]: i文字目までチェックし、最後に変化させた文字がj文字目で、開きカッコの超過数がk個のときの、変化回数の最小値` を更新して解いた。
    - `dp[i][j][k]` をどこに配るか？の配るDPで考えると多少は遷移がわかりやすい気がする。
  - **典型: 指数オーダーの状態数は、同じ状態にまとめ上げてDPに帰着できないか検討する。**

---

## B問題のDPを深掘り

### はまやんはまやんさん

[はまやんはまやんさんの記事](https://www.hamayanhamayan.com/entry/2016/08/29/170808)より引用。

> 「愚直会を考える」「全部の状態数を考える」

ここまでは自分も考えることができた。

> これだと多いので、 **指数オーダを多項式オーダに変えるアレを考える。**

ここまで考えて思考をDP側に寄せて行きたかった！

### baitoさん

[baitoさんの記事](http://baitop.hatenadiary.jp/entry/2018/08/22/162236)より引用。

> dpは状態のまとめ上げだということを忘れていた。

最近は分割統治法のイメージが強すぎて、この視点が抜け落ちていた。反省。

### ei1333さん

[ei1333さんの記事](https://ei1333.hateblo.jp/entry/2016/08/28/112119)より引用。

> `len(S) <= 100` と小さいので適当にDPできそう。

自分にはあまりしっくりこないが、制約が小さいとDP、という思考転換もありなのだろうか？
（今までは、どちらかというと100000ぐらいの大きさのときに検討することが多かったが。）

