# Chokudai SpeedRun 001 過去問感想

Last Change: 2020-04-13 00:22:40.

## H問題（@2020-04-13）

問題名そのもので、LISを求める問題。

## J問題（@2020-04-12）

問題通り転倒数を `O(NlogN)` で求める問題。

蟻本の以下の説明の通りに求めるには、BITをSetとして捉えてやるのがよい。

> 各 `j` に対して「 `i < j, A[i] > A[j]` となるような `i` の個数」を効率的に求める。

以下のロジックを繰り返せば良い。

```go
ans += i - bit.Count(A[i])
bit.Insert(A[i], 1)
```

順番を逆にするとバグるので注意（おそらくは `i` が0-basedだから（？））。

**挿入前の `bit.Count(A[i])` によって `A[i]` 以下の要素の数が求まる。**
**また、 `i(0-based)` を見ている時点で、BITに詰まっている要素の全体数は `i` に等しい。**
**よって、 `i - bit.Count(A[i])` を加算していくことで、最終的には転倒数が求まる。**

※区間の右端を固定して、今まで見てきた左側全体を監視する構造からすると、zero sum rangesのような区間問題の雰囲気もある。

