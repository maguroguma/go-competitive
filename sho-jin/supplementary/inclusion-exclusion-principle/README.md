# 包除原理（による数え上げ）

Last Change: 2020-12-06 23:07:47.

事象がN個あるときに `A1 || A2 || A3 || ... || AN` を求める方法（？）。
一般化したものはよくある `N=3` のベン図のやつから想像できるので覚えなくても良い（と思う）。

真面目に考えると `2^N` 個（※すべてを選ばない場合を含めると `2^N` 個の加算になる）
の項の加算になるため余裕でTLEのしてしまう。
しかしながら、「ONにする事象の個数」を `k` として考えるとうまく数え上げがまとめられる場合がある。

- [ABC172-E](https://atcoder.jp/contests/abc172/tasks/abc172_e)
  - 解説放送の「撹拌順列」というものを先に考えると包除原理部分を落ち着いて考えることができそう。
    - `x, ?` を `N` 個のものに割り当てるやり方を図示するすぬけさんの解説を頭にイメージしておきたい。
- [yukicoder No.890](https://yukicoder.me/problems/no/890)
  - 一般的な回転対称性というのが難しく、総じて題意が難しいので包除原理の練習問題としては微妙な気がする。。
- [ARC107 B.Quadruple](https://atcoder.jp/contests/arc107/tasks/arc107_b)
  - 想定解法はもっと簡単だが、包除原理を使うと `O(1)` で解けるようになる。

