# ABC120感想

ABC117は嘘解法全完だったので、今回がはじめてのABC全完となった。

- A問題は除算の虚無系。あまり気にするところはない。
- B問題は読み間違いで数分固まってしまった。
  - 読み間違いはしょうがないとしても、リカバリーをもっと早くしたい。
  - 今回の設定ではループ変数 `i` がA,Bよりも大きくなることはないので、約数の判定はシンプルに剰余0を判定するだけでよかった。
- C問題は `O(1)` 解法をもっと速く確信したかった。
  - **典型ポイント: 終了後の常態を想像してみる**
- D問題はサイズ付きUnionFindを使う問題だった。
  - 値の更新部分はやたらと複雑なことをしようとして時間を食ってしまったので、解説にあるようなスマートなものを理解したい。
    - PDFを読むと完全グラフや2部グラフの内容をおさらいしておきたい気持ちになったので、この機会にちょっと学部の授業を思い出しながら復習したい。
  - UFライブラリを修正する。
    - サイズありをデフォルトとする。
      - 根だけに保存する方式を採用してみる（実装・テストともに別ファイルに新たに作ってみる）
    - 0-basedを前提とする旨をコメントなりで残しておきたい。
  - マージテクというのもあるらしいので、これも解説ベースで学習しておく。
  - **クエリ逆読みのひらめき: グラフは分解するのは難しいけど連結するのは簡単だから**
  - **完全二部グラフや完全グラフについての理解が明確だと、もっと速く解けた気がする。**
    - 学部で習ったけど使わないまま数年経ったので忘れてしまった。。
      - グラフ理論は要復習。

## chokudaiさんの解説で勉強

[解説リンク](https://www.youtube.com/watch?v=zV3Ul2pA2Fw)

- **グラフにおいて点と点を辺をつなぐ処理は簡単、切り離す処理は難しい。**
  - 厳密に言うと、切り離したときに点同士が非連結になるかどうかの判定が難しいということ（ほかの箇所も見に行かないといけないため）
- Union-Findの改良（？）
  - **親の場合は `-(その集合のサイズ)` とする。**
  - とりあえず、便利さは向上することは合っても、不便さが増加してしまうことはなさそうなので、こちらの実装を採用してみる。
- 「マージテク」なるものについても言及されている。

## 完全グラフと完全二部グラフについて

学部の授業の復習。
（教科書を買い戻して簡単なところだけでも学び直したい。）

今回はリンクの数についてのみ完結にまとめておく（無理して詰め込んでもしょうがないので）

- 完全グラフの枝の数は、ノード数を `N` とすると `N*(N-1)/2`
  - 2点を選ぶ組み合わせなので。
- 完全二部グラフ
  - 二部グラフ: 二部グラフ頂点を2つの部分集合に分割し、集合内では頂点同士に辺が存在しないもの
  - 完全二部グラフは、二部グラフのうち、片方の集合のすべてのノードについて、もう片方の集合のすべてのノードへ枝が存在するグラフ
  - 完全二部グラフの枝の数は、それぞれの集合のサイズを `N, M` とすると `N*M`
    - それぞれの集合での点の選び方の場合の数なので。

## マージテク

[秋葉先生のハラsもといテクニックに関するブログ記事](https://topcoder.g.hatena.ne.jp/iwiwi/20131226/1388062106)

必要になるのかはわからないが、念のために置いておく。