# CF641div2 感想

Bまでは相対的にもスムーズに進められたが、Cの整数に阻まれてしまった。。
Editorialで理解したが、多分忘れそうなので、忘れた頃に正しく考察できるか確認したほうが良い。

## A問題

偶奇性に着目すれば割と簡単。

## B問題

DAGを構築し、トポロジカルソートして最長経路の長さを求めたが、
普通に前からDPするやり方でも簡単だったと思う。

使用頻度の高くないライブラリをスムーズに使えたのはgood。

## C問題

ある一つの要素に注目したとき、「その要素以外の `n-1` 個の要素が共通して持っている因数は、答えを割り切る」
という観察が重要。
なぜなら、ある要素がその因数 `K` を持っていなかったとしても、ある要素以外の要素と必ずペアになってLCMが取られること、
また、当然ながら他のペアのLCMもその因数 `K` を持つはずなので、そのように主張できる。

そうすると、ある一つの要素を除いた `n-1` 個のGCDをすべての要素について考えると、
これらのGCDというのはやはり答えを割り切る因数となる。

よって、これらの因数を併合したもの、すなわちLCMを取ったものが答えに一致する。

「`n` 個の要素それぞれについて自身を除いた `n-1` 個のGCD」の計算には、
おなじみの累積GCDの考え方を用いる。
あるいは計算量は増えるがセグ木等を使ってもいいはず。

