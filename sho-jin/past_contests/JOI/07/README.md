# 日本情報オリンピック過去問 難易度6まとめ

Last Change: 2020-10-21 01:02:25.

## [B. お菓子の分割 ★★★](https://atcoder.jp/contests/joi2010ho/tasks/joi2010ho_b)

わからなくて解説を読んだのにオリジナルの実装で非常に苦労した。

DPでやりたいなぁと思いつつ、遷移はおぼろげながらイメージが付いても状態の持ち方がわからず、解答を漁った。

[kutimotiさんのブログ](http://kutimoti.hatenablog.com/entry/2018/01/19/234001)が参考になったが、微妙に実装はオリジナルに変えた。

「1つ1つ区切られたお菓子を片方の人に配り続け、コストを支払うことでもう片方の人へ分配をチェンジできる」
と問題文を読み替えることが最重要。
そうすると、「以前どこで切ったのか？」というような情報を持たずに済む。

**「ステートレスに考える」**
とも捉えられそう、な気もするし、そういう言い方は不適切な気もする。

結局、自分の場合 `[M][M][Y][Y][M]...` のようにブロックを分けるように考えて、
`dp[i][j][M or Y] := i番目まで観たとき、自分がj個お菓子を獲得しているときの、コストの最小値`
として考えた。

ただし、初期化と遷移が微妙に難しい。
コストを考えるポイントはお菓子に相当するブロックではなく、ブロック間の「仕切り部分」であることから、慎重に進めなければならない。

## [B. IOI列車で行こう ★★★★★](https://atcoder.jp/contests/joi2013ho/tasks/joi2013ho2)

DPの発想すらできなかったので完敗だった。  
「とりあえず考えられる並びを全探索して、そこで出来上がる部分文字列で最大のものを取ろう」というのがベースの考え方。  
なので、弱い制約では愚直な全探索ができるし、中程度の制約では値がbool値の「（やや）自明なDP」が通るようになっている。

満点回答は `dp[i][j][flag] := Sからi文字分, Tからj文字分とって作る文字列の最大長、ただしフラグによって末尾が変わる`
というような状態を考えることで計算できる。  
これはLCSのような貰うDPを考えるのが簡単だが、なんか初期化方法がよくわからなくて無理やり配るDPを書いてしまった。

