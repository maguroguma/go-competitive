# ドワンゴ2020 （過去問）感想

Last Change: 2020-02-24 13:53:55.

※当時感想を書き忘れていたので、このdocは過去問扱いとする。

## B問題（@2020-02-24）

難しい。。全然わからなかった。

結局は期待値を訪ねている問題なのだが、問題文の聞き方が特殊で総和を素直に求めようとしてしまった。
が、翌々考えてみると、素直に期待値を尋ねるような文面にすると変な聞き方になってしまうので、
わざわざ問題文のような訪ね方をしているものと思われる。

よって、こういった問題のときは「総和を求めても良いし、期待値を求めても良い」と幅を広くして解釈したほうが得策っぽい。

**「区間を通過するスライムの和の期待値」を考える。**

解説放送があまりにも明快。

※400点の部分点解法は多分DPだが、解説を見てしまうとそちらの方は全くわからない。。（暇があったら考えてみたい）

※確かに、係数を求める部分は前の方から求めるとDP的に求められるが。。

### 解説放送の係数の求め方の咀嚼

- 先に先頭が選ばれる確率は `1/n`
  - その時、後ろの `n-1` 個の「直前の区間を通過する和の期待値」の個数（※必ずしも整数ではないが個数と思えば良い）分、同様に先頭の注目区間も通過する。
  - と、同時にもちろん最初に出発した先頭のものも通過する。
  - よって `1/n * (C[n-1] + 1)` が寄与する。
- そうでない場合は `(n-1)/n`
  - これは、状況が完全に `C[n-1]` と一致する。
  - よって `(n-1)/n * (C[n-1])` が寄与する。
- すべての場合を考慮できたので、これらの和が答えとなり `C[n] = C[n-1] + 1/n` と書ける。

### 考え方のポイント

- 期待値は必ずしも全体に目を向ける必要はない？
  - むしろ **振る舞いが簡単な前半（？）部分から詰めていき、後半も埋めていくような印象がある。**
- 期待値の求め方は解釈次第で色々できそうなので「これがわかったら行ける！」というものは色々考えて見る必要がありそう。
  - その中から計算量が現実的なもの・計算が容易そうなものをうまく選べると良さそう。

