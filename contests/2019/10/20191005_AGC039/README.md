# AGC039 感想

初の太陽。
とはいえ、不参加だったら貯まる知見が0の可能性が高かったため、出ただけ良しとしておく。
今回の問題も深く記憶に刻み込んでおく。

- A問題は結局場合分けでミスをしていたし、見通しの悪い手法を選択してしまっていた。
  - ランレングス圧縮を考えるのは賢いかもしれない。
  - 解説放送でチェックが必要。
  - **AtCoderのテストケースはコンテスト中はランダムになっているっぽい。**
    - REしたものがWAになったと勘違いしていたが、どうやら順番が入れ替わっていたらしい（コンテスト後にリロードしたら判明した）
- B問題は2部グラフを考えるところまでは良かったが、そこから進められず。
  - 二部グラフ判定＋ワーシャルフロイドがスマート。
    - 二部グラフ判定はこの機会に理解しておくこと。
  - **典型: グラフの直径**
    - この知識をちゃんと備えていれば、考えついたかもしれないのでこの機会に理解しておく。

## A問題の解説放送

**同じ文字が続く部分について、「2で割った切り捨て分書き換える必要がある」というのがわかりやすい**

やっぱりランレングス圧縮を持っておくと便利そう。。

いい機会なので圧縮・解答のスニペットを作った。
今後は文字列系の問題が出たらスムーズに想起できるようにしたい。

※先頭と末尾が同じケースが最も複雑だが、それぞれ、同じ文字が続くセクションが何回登場するか？を図示するとスッキリ計算できる。

### 等差数列を考える方法

Sを2個連結したもの、3個連結したもの、4個連結したもの...と考えたときの変更箇所は等差数列になるはず、という観察。

これでも場合分けは必要になるが、とてもスマートなやり方だと思った。

**典型: 周期性に着目して利用する**

※ `O(1)` 的に一気に求めようとだけ考えると、こういった柔軟な発想を阻害するような気がする。広い視点を持ちたい。

## B問題の解説放送

- 二部グラフ
  - 偶数グループと奇数グループを結ぶ（偶数番の集合と奇数番の集合を同じグループだとみなすと二部グラフとなる）

二部グラフ判定は蟻本でしっかり履修済みだったので、この機会に記憶に深く刻み込んでおく。。

※問題を研いているときは、n部グラフのnを求める、みたいなことを考えていたが、
よくよく考えるとこれは「最大公倍数」を求める、みたいなことを考えていて、nはできるだけ小さいものを求めるほうが問題としては難しい気がする。

※BFSだけで求める方法もあるらしいが、twitterを観ているだけだとよくわからなかったので、ここではあまり時間を取らないことにする。

### 二部グラフに関する知識

- 木は二部グラフである
- 2彩色問題と二部グラフ判定は同値

### グラフの「直径」について

2頂点間（隣接している必要はない）を経由する辺数を「長さ」とよび、特に最短経路における辺数を「距離」と呼ぶ。
グラフGの「最大頂点間距離」を「**直径**」と呼び、 `diam(G)` と表す。

※ diameter: 直径

#### 直径を求めるアルゴリズム

今回は頂点数が少ないグラフで合ったため、ワーシャルフロイド法で良かったが、木の直径はもっと賢く高速に求めるアルゴリズムがある。

アルゴリズム自体は非常に単純で、

1. 適当な頂点からの最遠頂点 `u` を見つける。
2. `u` から最遠頂点 `v` を見つけたとき、 `(u, v)` が最遠頂点対であり、距離が直径となる。

証明はグラフが木であることを踏まえて距離に関して場合分け等行いながら示せばいいらしいが、
最初に見つけた証明は少しスッキリできなかった。

計算量は `O(E)` 。

