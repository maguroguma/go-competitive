# 日本情報オリンピック過去問 難易度5まとめ

Last Change: 2020-09-17 00:42:58.

## [A. アナグラム ★](https://atcoder.jp/contests/joisc2007/tasks/joisc2007_anagra)

与えられた文字列が、考えられる並べ替えの中で何番目かを答える問題。

同じ文字が含まれる場合が難しいような気がしてなかなかコードを書き出せなかったが、
冷静に整理すると、先頭の文字から愚直に考えていけばよい。
各ポイントで残っているアルファベットの数を管理していけば、聞かれている文字列より前に
順序付けられる数は逐次求まっていく。

桁DPの考え方の基本にもなるので、もっと素早く考えられないといけない。

## [A. nile（ナイルドットコム） ★★★](https://atcoder.jp/contests/joisc2008/tasks/joisc2008_nile)

おそらく基本的なのだろうが、初めて経験した個人的に超重要な問題。
単純なナップサックDPだと思ったら計算量が爆発してしまって詰まってしまったので、解答を検索した。

- [ガナリヤさんの解説](https://scrapbox.io/ganariya/JOI2008%E6%98%A5%E5%90%88%E5%AE%BF_P6_%E3%80%8CNile.Com%E3%80%8D_(copy))
- [kimiyukiさんのDPの分類](https://wiki.kimiyuki.net/%E5%8B%95%E7%9A%84%E8%A8%88%E7%94%BB%E6%B3%95)

**貰うDPは配るDPに比べて「高速化しやすい」場合がある。**

今回の場合、前回と違う店を選ぶ、という選択をする場合には、直前のパターンは最も安い場合で良い、
ということに目をつけると、遷移を大幅に減らすことができる。

配るDPでは↑ができない。
最初、次の店は最も安いものを選ぶ、みたいな遷移を考えたが、
これは、この後の未来の店の決め方を考えると、最適パターンを網羅できておらず、嘘貪欲になっている。

## [C. 連鎖 ★](https://atcoder.jp/contests/joi2009yo/tasks/joi2009yo_c)

色々と難しさにノイズが載っているイメージ（？）

まず `N=10000` で方針に迷うが、TL10secなこともあり、単純な `O(N^2)` で良さそうと思い込むこと。
そして、なんと実際に10msec未満で余裕で間に合う。

実装は、バグらないこと最優先でできる限り愚直に考える。
すなわち、すべての箇所をすべての色に変更した場合のシミュレーションを行えば良い。

Codeforcesのタグで言うところのtwo pointersな実装を行えば良い。
最初の色を変えたときと、両端の処理には注意する。

## [E. 通勤経路 ★](https://atcoder.jp/contests/joi2010yo/tasks/joi2010yo_e)

組み合わせで求められそうだが、条件が複雑なためDPでフラグを付けながら数え上げる問題。

[テクニック集](https://shibh308.hatenablog.com/entry/2019/02/28/195542)にもある通り、
`H, W` が小さくて `H * W` が間に合うのでDPをする。

初期化の部分で混乱して、サンプルを通すのに少し時間がかかってしまった。
定数でフラグのマジックナンバーに名前をつけるのはやはり便利なので、積極的にやりたい。

なんと組み合わせでも求められるらしいが、こっちのほうがだいぶ難しく見える。

## [C. つらら](https://atcoder.jp/contests/joi2010ho/tasks/joi2010ho_c)

よくわからず考えていたらトポロジカルソートして最長経路を求める問題に帰着したので、そのように解いた。

が、他の人の解答を観ると、依存するのはせいぜい両隣だけなので、
両隣の折れるまでの時間がわかれば、それらの大きい方だけ見れば良い、となる。
ここまで考察できれば、もっと他の方法も考えられそうだった。

多分、大きいものを取るのに一番簡単なのはpriority queueなので、それが想定解法。

