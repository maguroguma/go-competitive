# ARC079 過去問感想

## D. Decrease (Contestant ver)

構築問題。

操作を終えた状態を想定し、与えられた操作の逆を考える。

すなわち、「ある要素を選んで `n` 加算し、それ以外を `-1` 加算する」とする。

ただし、この操作を行った後は、求める配列の初期状態となっていなければならないため、
非負整数からなっていなければならない。
すなわち、負の数が生まれては行けない。

**典型: 逆から考える**

**典型: 大雑把に処理して、残った少数の手順は愚直に処理する**

他にも典型要素はありそうだが、ちょっとわからないのでこれくらいの感想で。。

## E. Decrease (Judge ver)

こちらは二分探索などができると思ったが全然違った。難しい。

実は「最大値を選んで `n` 減算する」というのは、「`n` 以上の要素を選んで `n` 減算する」としても、
**全体での操作回数は変わらない** といえる。

直感的にこれは納得ができるが、証明は結構難しい。
`+1` するのと `-n` するのは `mod(n+1)` で考えるとどちらも `+1` しているのと同じ、と主張できる。
また、どの要素を選んだとしても、数列の総和は変わらない（全体で見ると `-1` される）。
以上の2つのことから、正しさを主張できる
（すべての要素が `0` 以上 `n-1` 以下になる手順が存在すること、も使うらしいが、これは一体どこで使う？）。

よって、各要素の `n` で割ったときの商を中心に、大まかなシミュレーションが可能になるが、
これが短時間のシミュレーションで済むことを示すのも、それなりに大変に見える。
（指数的に大きく総和が減っていくパートがある？）

**典型: 全体の不変量に着目する**

**典型: 操作の順番を入れ替えられないか検討する**

多分、↑は抽象的な観察としては全然正しくないが、こういったことは過去にも考えたことがある気がするので、
とりあえずはこれぐらいのまとめとしておく。

