# 3-2: 厳選！頻出テクニック(1)

---

## しゃくとり法

- スライスの連続区間の和がK以上となる区間の長さの最小値を答える問題。
- スライスの連続区間のうち、すべての要素が含まれている区間で最小のものの長さを答える問題。

単調性＋区間が問われたら想起したい。

---

## 反転・flip

（おそらく応用の効く）重要な考察は以下の2点。

1. 同じマスを2回以上選択する必要はない
2. 選択したマスの集合を考えたときに、その反転順序は無関係

これらはいずれも、 **あるマスに対して反転操作が施される回数** を考えれば自明に感じられる。
（結局、そのマスの状態は、そのマスの初期値および反転操作の偶奇性のみで決定されるため。）

また、最小の操作回数が聞かれることが多いと思われるが、上の2つの性質を考えると自然と最小回数の操作を考えることになる。
（1の性質を念頭に置くことで、自然と最小回数の操作を考えることになるので、気にする必要がなくなる。）

そこから派生するその他の注意点としては、

1. 一度の操作で複数のパネルが反転する場合、中心として考えるマス目をうまく選択する
  - 例えばパネル列に対して複数の連続するパネルの反転を考えるなら、反転するパネル列の一番左を考えるのが定石（？）
2. 中心となるマスを決めたら、操作を施すマス目の集合を考える
  - これによって全探索ベースの手法が考察できる（そこから計算量を落としていくのは一つの典型（？））

### 実装面での注意

蟻本の例題はどちらも面白いのでやっておいたほうがいい。

やってみて思った感想。

- パネルの状態は2値で表されるので、最初に0,1に符号化してしまう
  - こうすると操作回数の偶奇性と併せて計算が用意になる（コードがシンプルになる）
  - 最終的なほしい状態を `0` とするのが定石か（？）
- 操作が複雑になってくると、「あるパネルの状態を調べる関数」をモジュールとして切り出しておいたほうがよい。
  - 2次元パネル行列になってくると必要性が増してくるかも
- メモリは贅沢に使う気持ちで実装したほうがいいかもしれない
  - 例題の「作業用・最適解保存用」行列を分けて用意しておくのは賢いと思った

---

## 弾性衝突

序章の蟻問題と同じ考え方。

自由落下の公式をもう覚えていないため、計算に骨が折れるが、とりあえずは考え方だけ理解しておく。

これも例題のモジュールの切り方が参考になる。

---

## 半分全列挙

> このように、全パターンを列挙することができないようなサイズの問題でも、
> 半分ならば全列挙を行うことができるような場合があります。
> このような場合、それぞれ半分ずつ全列挙されたものを組み合わせるという手法が有効なことがよくあります。

2分探索、特に昇順ソート済み配列に対するupperBoundとlowerBound関数が必要になることが多い、のかもしれない。

