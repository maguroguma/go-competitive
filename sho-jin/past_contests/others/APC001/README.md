# AtCoder Peterzavodsk Contest 001 過去問感想

Last Change: 2020-03-02 23:26:33.

- B問題は300点。問題数と時間が長いAGCというだけあって、AGCの300っぽい気がした。
  - 色々と思いつくが、思いつきで投げるのではなく、ちゃんと必要十分条件を追求しよう。
  - 各要素を最終的に揃えないといけないので、それぞれの差分を計算しておく。
    - はじめソートして良いと思い込み、ちょっと明後日の方向へと向かってしまった。
  - AのほうがBよりも小さい場合、必ずこれらは揃えられることがわかる。
    - 同じidxのAとBの要素に対して操作を続ければ、1回の操作で差が1縮まるので、差分だけ繰り返せば良い。
  - BのほうがAよりも大きくてもまだ諦めるには早く、他の要素での差分でBのほうが「余裕を持って大き」ければ、そこから「借りて」来れば良い。
    - 例えば、あるインデックスについてAが0、Bが10000とかだったら、このAを+2増やして、足りない他のインデックスのBを+1してやればよい。
    - いずれすべてのインデックスについて「BのほうがAよりも大きい」という状態が作れるので、こうなったらYesを出力できる。
  - AとBの差を `diff` とすると `floor(diff/2)` が他のBに対して貸してあげることのできる数値だとわかるので、このあたりの考察を持ってループを回すコードを書けば良い。

## A問題（@2020-02-16）

Codeforcesの最初の方にありそうなギャグ算数。

`x` が `y` の倍数なら `-1` で、そうでないなら `x` が最初から条件を満たしている。

## C問題

2019-12-11に取り組んだ。

二分法なのは見た感じですぐに分かるが、全然詰めきれておらず、最初の実装も明後日の方向に行ってしまったがために、
結局解説ACすることとなった。

しっかり紙に具体的な状況を図示して、かつ論理的に詰めていくことが大事と考えた。

この問題も、結局は偶奇性・パリティが大事。
空席がなかった場合はこうなるはず、というのをしっかり詰め切る必要がある。

とはいえ簡単ではないと思う。

二分法もフルスクラッチで実装することが少ないせいで、異次元のバグり方、異次元のデバッグ時間が必要となってしまった。

典型: パリティ・偶奇性の意識

典型: 対称性（M, Fを入れ替えても同様に考えることができる）

## D問題（@2020-03-02）

木や森に関する問題。森の連結成分に着目する問題。

嘘解法にハマってしまった。
自分の解法は、UFで連結成分を作り、それを適当な順番で併合する、というもの。
併合の際は、それぞれの木の残っている最小コストのノードを選ぶようにする。
一度選択したノードは二度と選ばれないように、無限大のコストで更新する。
これは、range mindex queryのセグメントツリーで実現できる。

。。が、これは嘘解法。
例えば、このような手法をとったとき、後で併合される木のノードがどれもコストが1とか小さい値だったとすると、
これらを先に併合するほうが得することになる、といったケースが起こりうる。

模範解答は、

1. 各連結成分から少なくとも1点を選ぶ
2. 初期状態の連結成分の個数は `n-m` 個なので、 `n-m-1` 本の辺を足す

というふうにすれば木を作れることに着目する。
2の条件から異なる頂点を `2(n-m-1)` 個選択する必要があるため、これが不可能かどうかの判定になる。
（`m = n-1` のときは最初から木になっているのでコーナーケースとなる。）

閉路を作らないように連結成分を結んでいくと、1つずつ全体の連結成分が減っていく、というのは言われないとなかなかイメージしづらいかも。。
（賢い人は自然とイメージしてそうだが）

