# ABC110過去問感想

- A問題は特になし。
- B問題は一見大変そうだが、素直に全探索する。
  - いろいろやり方はある。
- C問題は一応あっていたが、模範解答はよく理解しておきたい。
  - PDFを読み込もう。
- D問題は考察は完璧だったが、具体的な計算方法がわからず撃沈。
  - **重複組合せで欲しいものが計算できた！**
  - **逆元についても知識がないと解けない（多分）。**
    - 商をとったあとのあまりの計算が狂ってしまう。
  - 解説でも言われているが、**一見難しくても小さいケースでいろいろ試してみることは大事。**
    - いきなり一般化して考えるのは悪手。
      - 散々言われていること。
  - ~~**試し割り法の自作ライブラリにバグが見つかったので直して再提出すること！**~~
    - ~~おそらくは `float` に頼っている部分が悪さしているので、 `int` だけで確実に処理するように変更する。~~
		- 自作のライブラリが `n==1` の入力を受け付けて、しかも誤った辞書を返しているのがダメだった。
  		- 引っかかっていたのは `m==1` のケース。chokudaiさんのコードはこの入力でも正しく答えを返していた。

## 重複組合せ

懐かしい高校数学の復習。

それぞれの項が0を許容する、n個の項の和が $b_{1} + b_{2} + ... + b{n} = e_{i}$ となるn個の項のとりうるパターンの数が知りたかったが、
これは **N色のボールが多数用意されており、その中から重複を許して $e_{m}$ 個とる場合の数** と一致する。

高校生の頃計算したように、丸と仕切り棒の順列を考えて、 $\frac{(n-1+e_{i})!}{e_{i}! \times (n-1)!}$ で計算できる。

## 逆元の具体的な計算について

組み合わせを計算する中で、分母を計算する中でも都度MODをとっている。

```go
func calcComb(n, r int) int {
	if r > n-r {
		return calcComb(n, n-r)
	}

	resMul, resDiv := 1, 1
	for i := 0; i < r; i++ {
		resMul *= n - i
		resDiv *= i + 1
		resMul %= MOD
		resDiv %= MOD
	}

	res := resMul * CalcModInv(resDiv, MOD) % MOD
	return res
}
```

ここは `a` で割るのも `a % MOD` で割るのも同じということで良いらしい。
