# Codeforces Round No.666 div2 D.Stoned Game

Last Change: 2020-10-17 00:16:33.

[公式の解説](https://codeforces.com/blog/entry/82142)

## 自己解釈

自分の手番で「選べる山の石の個数で、全体の過半数を超えるものがあれば、それを選び続ければ勝ち」
という事実が、詰めていくときの手がかりとなる。

難しいのは、最大の数の山がせいぜい全体の半分以下しかない場合だが、よくよく考えると、
この場合は先手は最大の山を選ぶのがよい。  
なぜなら、それ以外を選ぶと、みすみす後手に「先手が石を一つ減らしたせいで、過半数を超えてしまう山を与えかねない」から。  
これによって、とりあえず先手は勝利状態で後手にわたすことは避けられる。  
また、後手はそれを受けて適当に石をとっても、先手に勝利状態で渡すことを避けられる（また過半数の山がなく、総和の偶奇性が変わらない）。  

。。このあとの「石のマッチングを完全に作ることが出来て、石がなくなるまで操作を続けられる」という部分の証明がちょっとよくわからなかった。。

## 難しいのでググった

[この方の解説記事](https://bqn2.hatenablog.com/entry/2020/09/03/181807)の考え方がかなり参考になった。  
確かに極端な状況をいくつかサンプリングして考えることで、正しい考察に迎える、というのはアドホックで有効になりそう。

