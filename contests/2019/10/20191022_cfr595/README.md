# Codeforces Round 595 Div.3 感想

初めて書いた半分全列挙だったのに、二分探索でバグらせてしまった。悲しい。

二度とこの悲劇を起こさないために、ちゃんと記録しておく。

- Aは結局1か2かになる。
- Bはeasy, hard両方ともループの長さを見ればいい。
  - Union Findでもたしかに良い。最近Union Find使っていないので、ちょっと思い出したほうが良いかも。。
- Cはeasyを全探索で解いたので、hardも全探索的に頑張ろうとした。
  - 愚直な全探索は不可能なので、半分全列挙を頑張った。
  - 二分探索の中で二分探索をするようなコードを書く必要があり、結果的にとんでもなコードを書いてしまった。

## めぐる式二分探索の注意点

大きな勘違いをしていたので、もう二度としないようにする。

- `ok` が一度決まったからと言って、それが固定されるわけではない。
  - `ok` が定まったあと、次は `ng` が定まることがある。
  - すなわち、二分探索の条件関数で、bool値以外を返すようなものは基本的に書けない。
    - うまくやればかけるのかもしれないが、後で上書きされる可能性があるし、何よりわかりにくいのでやめる。
- 問題で必要になる変数をグローバルに置いておけば、めぐる式を別関数に切り出すことは簡単なので、複雑になってきたら検討する。
  - e.g. 二分探索の中で別の二分探索が要求される、など。
  - というより、条件関数 `C` が大きくなってきたらすでに危ない。
  - すべてをグローバルに置かなくても、プリミティブな値ならば引数として値渡ししても良い。

