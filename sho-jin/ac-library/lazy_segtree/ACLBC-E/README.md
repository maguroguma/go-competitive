# ACLBC E.Replace Digits

Last Change: 2020-10-05 01:04:11.

## 自分の解法

以下のようなデータ型の定義によって解くことが出来た。

```go
type S struct {
  length int // 上位桁のあまりを 10^l 倍する必要があるため持たせる
  r int      // このdata単体でみた（≒集約済みの）あまり
}

type F int // 「一様に」塗りつぶす桁の値（1~9）
```

「区間に対する作用」というのを、今までちゃんと正しく理解できていなかった気がするが、
この問題を解いてみて理解が深まった気がする。

最初は「注目している区間の中途半端な一部分だけ更新する、というのをどう考えたらいいのだろう？」と
思ってしまったが、 **翌々考えたら遅延セグ木においてはナンセンスな疑問だった。**
**そもそも、遅延セグ木の作用は「一様な」範囲でしか行われないため、中途半端な区間への作用は考えなくて良い。**

**遅延セグ木で区間への作用を考えるときは、二分木をちゃんとイメージするのがいいかもしれない。**

なお、区間更新なので、恒等写像の定義は慎重に行う。
少し戸惑うが、ありえない定数を利用する本手法はおそらくポピュラーなので、なるべく早く慣れたい。

※いろいろなところで逆元だったり二分累乗が求められるが、愚直に毎回計算するとTLEの原因となる。
特に、逆元の定数は非常に重いので、他の問題でも常に警戒したほうが良い（特にこどふぉ）。

